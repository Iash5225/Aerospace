{% extends "base.html" %}

{% block title %}Thrust Curve - UWA Aerospace{% endblock %}

{% block content %}
<!-- Content for Flight Profile -->
<div class="container my-5">
    <h2 class="text-center mb-4">Stability Simulation</h2>
    <p class="text-center">Content related to Stability Simulation goes here.</p>

    <!-- Combined Form for Motor Name Input and File Upload -->
    <div class="row justify-content-center">
        <div class="col-md-6">
            <form method="post" enctype="multipart/form-data" class="form-group">
                {% csrf_token %}

                <!-- Motor Name Input -->
                <label for="motorName">Motor Name:</label>
                <input type="text" id="motorName" name="motorName" value="{{ motor_name }}" class="form-control mb-3">

                <!-- Stability Unit Selection -->
                <label for="stabilityUnit">Stability Unit:</label>
                <select id="stabilityUnit" name="stabilityUnit" class="form-control mb-3">
                    <option value="cal">Cal</option>
                    <option value="%">%</option>
                </select>
                
                <!-- Graph Type Selection -->
                <label for="graphType">Graph Type:</label>
                <select id="graphType" name="graphType" class="form-control mb-3">
                    <option value="full">Full Graph</option>
                    <option value="burnout">Launch to Burnout</option>
                </select>

                <!-- File Upload Input -->
                <label for="csvFile">Upload CSV File:</label>
                <input type="file" id="csvFile" name="csv_file" accept=".csv" class="form-control-file mb-3">

                <!-- Single Submit Button -->
                <button type="submit" class="btn btn-primary">Upload and Plot</button>
            </form>
        </div>
    </div>

    <!-- Plot Image Display -->
    {% if plot_url %}
    <div class="row justify-content-center">
        <div class="col-md-8">
            <img src="{{ plot_url }}" alt="Plot Image" class="img-fluid mb-3">
            <a href="{{ plot_url }}" download class="btn btn-success">Save Plot</a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}